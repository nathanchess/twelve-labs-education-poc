# AI-Powered Lecture Analysis Platform

<div align="center">
  <img src="frontend/public/twelvelabs_logo_black_1536x1000.jpg" alt="TwelveLabs Logo" width="300" height="auto" />
  <h2>Education Platform Built for TwelveLabs by Nathan Che</h2>
</div>

https://github.com/user-attachments/assets/0e0da61d-9580-4fbc-89bd-5ff79594ca59

### Technical Architecture

<img width="6826" height="1978" alt="2" src="https://github.com/user-attachments/assets/e2eb3e15-951a-40d0-bdcf-4f9b3f485d4b" />
<img width="11813" height="2128" alt="5" src="https://github.com/user-attachments/assets/18513cac-8863-4167-a023-88ba99168af2" />
<img width="10163" height="1641" alt="10" src="https://github.com/user-attachments/assets/4ad7b89b-c14d-4dc2-877b-97dc6c0e0208" />
<img width="7351" height="1191" alt="TwelveLabs  - EduSight POC - Page 1" src="https://github.com/user-attachments/assets/4b4d03ef-0dc6-41e1-be43-e872fd038d53" />
- **[Technical Architecture (LucidCharts)](https://lucid.app/lucidchart/cbcea3fe-4d64-49ef-a322-edc75768821d/edit?invitationId=inv_9659e9a9-0f46-49b6-8fb1-b7e5a8f93e13)** - Link to LucidCharts Technical Architecture

### Documentation
- **[Technical Report](https://docs.google.com/document/d/1to0PTW9vdcnQpNB_qe2nmhB09b-iLqr1EAPJ22feBOQ/edit?usp=sharing)** - Detailed technical analysis and implementation details.
- **[API Documentation (ReDoc)](http://127.0.0.1:5000/redoc)** - Comprehensive API reference and endpoints automatically generated by FastAPI using Redoc.
- **[API Documentation (Google Docs)](https://docs.google.com/document/d/1II1niiUFe4XRZg1jpZ3C9E34peE_4mtgPu1BBlDnX0k/edit?usp=sharing)** - Informal API Documentation on Google Docs.

## üìã Prerequisites

- Python 3.8+
- Node.js 18+
- AWS CLI
- TwelveLabs API Key
- AWS S3, DynamoDB, and Bedrock IAM Access
- Google Gemini Studio API Key

## ‚öôÔ∏è Setup Instructions

### 1. Environment Configuration

Create the necessary environment files:

**Backend (API)**
```bash
# Navigate to the API directory
cd api

# Create .env file
touch .env
```

Add your environment variables to `api/.env`:
```env
# TwelveLabs Credentials
TWELVE_LABS_API_KEY
TWELVE_LABS_INDEX_ID

# AWS Credentials
AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY
AWS_ACCOUNT_ID

# AWS Course Metadata Table (use exact name from manual/Terraform setup)
DYNAMODB_CONTENT_TABLE_NAME=twelvelabs-education-video-poc

# AWS User Metadata Table (use exact name from manual/Terraform setup)
DYNAMODB_CONTENT_USER_NAME=twelvelabs-education-user-poc

# AWS Video Storage Bucket (use exact name from manual/Terraform setup)
S3_BUCKET_NAME=twelvelabs-lecture-content-poc

# Google Gemini API Credentials
GOOGLE_API_KEY
```

**Frontend**
```bash
# Navigate to the frontend directory
cd frontend

# Create .env.local file
touch .env.local
```

Add your environment variables to `frontend/.env.local`:
```env

# TwelveLabs API Credentials
TWELVE_LABS_API_KEY
NEXT_PUBLIC_TWELVE_LABS_INDEX_ID

# AWS API Credentials 
AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY

# AWS Video Storage Bucket
AWS_S3_BUCKET_NAME
AWS_REGION

# Google Gemini API Credentials
GEMINI_API_KEY

# Base API Endpoint (If run on main.py)
NEXT_PUBLIC_API_URL=http://127.0.0.1:5000
```

### 2. AWS Infrastructure Setup

You have two options for setting up the required AWS resources: **Quick Setup (Terraform)** or **Manual Setup**.

#### Option A: Quick Setup with Terraform (Recommended)

1. **Install Terraform** (if not already installed):
   - Download from [terraform.io](https://www.terraform.io/downloads.html)
   - Or use package manager:
     ```bash
     # macOS with Homebrew
     brew install terraform
     
     # Windows with Chocolatey
     choco install terraform
     
     # Ubuntu/Debian
     sudo apt-get update && sudo apt-get install terraform
     ```

2. **Configure AWS CLI** with your credentials:
   ```bash
   aws configure
   ```
   You'll be prompted to enter:
   - AWS Access Key ID
   - AWS Secret Access Key
   - Default region name (use `us-east-1` for consistency)
   - Default output format (use `json`)

3. **Run Terraform** to create all resources automatically:
   ```bash
   # Navigate to project root (where main.tf is located)
   cd twelve-labs-education-poc
   
   # Initialize Terraform
   terraform init
   
   # Preview the resources that will be created
   terraform plan
   
   # Create the resources
   terraform apply
   ```
   
   When prompted, type `yes` to confirm the creation of resources.

4. **Note the created resource names** (they will be displayed in the output):
   - S3 Bucket: `twelvelabs-lecture-content-poc`
   - DynamoDB Video Table: `twelvelabs-education-video-poc`
   - DynamoDB User Table: `twelvelabs-education-user-poc`

#### Option B: Manual Setup

If you prefer to create resources manually or need custom configurations:

##### 2.1 Create S3 Bucket

1. **Open AWS S3 Console**:
   - Go to [AWS S3 Console](https://s3.console.aws.amazon.com/)

2. **Create Bucket**:
   - Click "Create bucket"
   - **Bucket name**: `twelvelabs-lecture-content-poc` (must be globally unique)
     - If this name is taken, use: `twelvelabs-lecture-content-poc-[your-initials]-[random-numbers]`
   - **Region**: `us-east-1` (or your preferred region)
   - **Block Public Access**: Keep all settings enabled (recommended for security)
   - Click "Create bucket"

##### 2.2 Create DynamoDB Tables

**Table 1: Course Metadata Table**

1. **Open AWS DynamoDB Console**:
   - Go to [AWS DynamoDB Console](https://console.aws.amazon.com/dynamodb/)

2. **Create Table**:
   - Click "Create table"
   - **Table name**: `twelvelabs-education-video-poc`
   - **Partition key**: `video_id` (String)
   - **Table settings**: Use default settings
   - **Billing mode**: On-demand (Pay per request)
   - Click "Create table"

**Table 2: User Data Table**

1. **Create Second Table**:
   - Click "Create table"
   - **Table name**: `twelvelabs-education-user-poc`
   - **Partition key**: `student_name` (String)
   - **Table settings**: Use default settings
   - **Billing mode**: On-demand (Pay per request)
   - Click "Create table"

##### 2.3 Verify Table Schemas

The tables will store the following data structure:

**Course Metadata Table** (`twelvelabs-education-video-poc`):
```
Partition Key: video_id (String)
Attributes:
- gemini_file_id (String)
- s3_key (String)
- title (String)
- summary (String)
- chapters (List)
- quiz_questions (List)
- key_takeaways (List)
- pacing_recommendations (List)
- engagement (List)
- transcript (String)
- created_at (Number)
```

**User Data Table** (`twelvelabs-education-user-poc`):
```
Partition Key: student_name (String)
Attributes:
- [video_id]_wrong_answers (List)
- [video_id]_reactions (List)
- [video_id]_progress_report (Map)
- [video_id]_finished (Boolean)
```

#### Configure AWS CLI (Required for both options)

If you haven't already configured AWS CLI:

```bash
aws configure
```

You'll be prompted to enter:
- AWS Access Key ID
- AWS Secret Access Key
- Default region name
- Default output format

**Important**: If you used custom names during manual setup (e.g., because the default bucket name was taken), make sure to update the environment variables in your `.env` files to match your actual resource names.

### 3. Python Virtual Environment

Create and activate a Python virtual environment:

```bash
# Navigate to the project root
cd twelve-labs-education-poc

# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate
```

### 4. Install Python Dependencies

With your virtual environment activated:

```bash
# Navigate to the API directory
cd api

# Install requirements
pip install -r requirements.txt
```

### 5. Start the Backend Server

```bash
# Make sure you're in the API directory with venv activated
python main.py
```

The backend server will start on `http://localhost:5000` (note: corrected from 8000)

### 6. Start the Frontend Development Server

Open a new terminal window:

```bash
# Navigate to the frontend directory
cd frontend

# Install dependencies (if not already installed)
npm install

# Start development server
npm run dev
```

The frontend will be available at `http://localhost:3000`

## üìÅ Project Structure

```
twelve-labs-education-poc/
‚îú‚îÄ‚îÄ api/                    # Backend API (Python/FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ helpers/           # Utility functions
‚îÇ   ‚îú‚îÄ‚îÄ providers/         # Indiividual implementation for AI provider comparison (TwelveLabs, Google Gemini, AWS Nova)
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # Main application entry point
‚îú‚îÄ‚îÄ frontend/              # Frontend (Next.js)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/          # Next.js app directory
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/   # React components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ context/      # React context providers
‚îÇ   ‚îî‚îÄ‚îÄ public/           # Static assets
‚îî‚îÄ‚îÄ README.md
```

## üßπ Cleanup (Optional)

If you want to remove the AWS resources after testing:

### Terraform Cleanup (If you used Terraform)
```bash
# Navigate to project root (where main.tf is located)
cd twelve-labs-education-poc

# Destroy all resources created by Terraform
terraform destroy
```

### Manual Cleanup (If you created resources manually)
1. **Delete S3 Bucket**:
   - Go to AWS S3 Console
   - Select your bucket and delete all objects first
   - Then delete the bucket

2. **Delete DynamoDB Tables**:
   - Go to AWS DynamoDB Console
   - Select each table and delete them

**Note**: Be careful when deleting resources - this action cannot be undone and you will lose all data stored in these resources.

## üîß Troubleshooting

- **Port conflicts**: Ensure ports 3000 and 5000 are available
- **Environment variables**: Double-check that all required environment variables are set
- **AWS credentials**: Verify AWS CLI is properly configured and has necessary permissions
- **AWS resources**: Ensure DynamoDB tables and S3 bucket exist and match the names in your environment variables
- **Python dependencies**: Make sure you're in the virtual environment when installing packages
- **Terraform issues**: If using Terraform, ensure you have the latest version and proper AWS permissions

## üìû Support

For issues related to:
- **TwelveLabs API**: Check the [TwelveLabs Documentation](https://docs.twelvelabs.io/)
- **AWS Services**: Refer to [AWS Documentation](https://docs.aws.amazon.com/)
- **Project Issues**: Create an issue in the project repository

---

<div align="center">
  <p>Built with ‚ù§Ô∏è using TwelveLabs</p>
</div>
